{
	"info": {
		"_postman_id": "12345678-1234-1234-1234-123456789012",
		"name": "Gestion Tienda API",
		"description": "Colección de endpoints para gestión de productos y pedidos",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Productos",
			"item": [
				{
					"name": "Listar Productos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/api/productos",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"productos"
							]
						},
						"description": "Obtiene la lista de todos los productos"
					},
					"response": []
				},
				{
					"name": "Crear Producto",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Laptop\",\n  \"precio\": 1200,\n  \"stock\": 10,\n  \"categoria\": \"Electrónica\"\n}"
						},
						"url": {
							"raw": "http://localhost:3000/api/productos",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"productos"
							]
						},
						"description": "Crea un nuevo producto en la base de datos"
					},
					"response": []
				},
				{
					"name": "Obtener Producto por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/api/productos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"productos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "ID del producto (obtenerlo primero con GET /productos)"
								}
							]
						},
						"description": "Obtiene un producto específico por su ID"
					},
					"response": []
				},
				{
					"name": "Actualizar Producto",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Laptop Actualizada\",\n  \"precio\": 1100,\n  \"stock\": 15,\n  \"categoria\": \"Electrónica\"\n}"
						},
						"url": {
							"raw": "http://localhost:3000/api/productos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"productos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "ID del producto (obtenerlo primero con GET /productos)"
								}
							]
						},
						"description": "Actualiza un producto existente"
					},
					"response": []
				},
				{
					"name": "Eliminar Producto",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/api/productos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"productos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "ID del producto (obtenerlo primero con GET /productos)"
								}
							]
						},
						"description": "Elimina un producto por su ID"
					},
					"response": []
				}
			]
		},
		{
			"name": "Pedidos",
			"item": [
				{
					"name": "Listar Pedidos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/api/pedidos",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"pedidos"
							]
						},
						"description": "Obtiene la lista de todos los pedidos"
					},
					"response": []
				},
				{
					"name": "Crear Pedido",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cliente\": \"Juan Pérez\",\n  \"fecha\": \"2025-11-07\",\n  \"productos\": [\n    {\n      \"producto\": \"COPIAR_ID_PRODUCTO_AQUI\",\n      \"cantidad\": 2\n    },\n    {\n      \"producto\": \"COPIAR_ID_PRODUCTO_AQUI\",\n      \"cantidad\": 1\n    }\n  ]\n}"
						},
						"url": {
							"raw": "http://localhost:3000/api/pedidos",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"pedidos"
							]
						},
						"description": "Crea un nuevo pedido. IMPORTANTE: Primero crea productos y copia sus IDs reales (_id) aquí."
					},
					"response": []
				},
				{
					"name": "Obtener Pedido por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/api/pedidos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"pedidos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "ID del pedido (obtenerlo primero con GET /pedidos)"
								}
							]
						},
						"description": "Obtiene un pedido específico por su ID"
					},
					"response": []
				},
				{
					"name": "Calcular Total del Pedido",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/api/pedidos/:id/total",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"pedidos",
								":id",
								"total"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "ID del pedido (obtenerlo primero con GET /pedidos)"
								}
							]
						},
						"description": "Calcula el total del pedido sumando (precio * cantidad) de cada producto. NOTA: Esta ruta debe ir ANTES de /pedidos/:id en el código."
					},
					"response": []
				},
				{
					"name": "Actualizar Pedido",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cliente\": \"Juan Pérez Actualizado\",\n  \"fecha\": \"2025-11-08\",\n  \"productos\": [\n    {\n      \"producto\": \"COPIAR_ID_PRODUCTO_AQUI\",\n      \"cantidad\": 3\n    }\n  ]\n}"
						},
						"url": {
							"raw": "http://localhost:3000/api/pedidos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"pedidos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "ID del pedido (obtenerlo primero con GET /pedidos)"
								}
							]
						},
						"description": "Actualiza un pedido existente"
					},
					"response": []
				},
				{
					"name": "Eliminar Pedido",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/api/pedidos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"pedidos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "ID del pedido (obtenerlo primero con GET /pedidos)"
								}
							]
						},
						"description": "Elimina un pedido por su ID"
					},
					"response": []
				}
			]
		}
	]
}
